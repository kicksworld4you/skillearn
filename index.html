<!DOCTYPE html>
<html lang="en">  
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  
    <title>SkillLearn | Fix</title>  
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>  
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>  

    <script>  
      const firebaseConfig = {  
        apiKey: "AIzaSyByySH5u93ltrhej8W1PB0MsW5eVicFrw8",  
        authDomain: "skillearn-3af71.firebaseapp.com",  
        projectId: "skillearn-3af71",  
        storageBucket: "skillearn-3af71.firebasestorage.app",  
        messagingSenderId: "472123785889",  
        appId: "1:472123785889:web:578122950a7acaea4466e0"  
      };  
      firebase.initializeApp(firebaseConfig);

      // Ye function check karega ki user login hai ya nahi
      firebase.auth().onAuthStateChanged((user) => {
          if (user) {
              console.log("Login Success!");
              document.getElementById('auth-section').style.display = 'none';
              document.getElementById('dash-section').style.display = 'block';
              document.getElementById('user-name').innerText = user.email;
          } else {
              document.getElementById('auth-section').style.display = 'block';
              document.getElementById('dash-section').style.display = 'none';
          }
      });

      // Login Function
      function doLogin() {
          const email = document.getElementById('email').value;
          const pass = document.getElementById('pass').value;
          console.log("Attempting login...");
          
          firebase.auth().signInWithEmailAndPassword(email, pass)
          .catch((error) => {
              alert("Error: " + error.message);
          });
      }

      // Signup Function
      function doSignup() {
          const email = document.getElementById('email').value;
          const pass = document.getElementById('pass').value;
          firebase.auth().createUserWithEmailAndPassword(email, pass)
          .catch((error) => {
              alert("Error: " + error.message);
          });
      }
    </script>
    <style>
        body { font-family: Arial; text-align: center; background: #f0f2f5; padding-top: 50px; }
        .box { background: white; padding: 30px; border-radius: 10px; display: inline-block; box-shadow: 0 4px 12px rgba(0,0,0,0.1); width: 300px; }
        input { width: 90%; padding: 10px; margin: 10px 0; border: 1px solid #ddd; border-radius: 5px; }
        button { width: 100%; padding: 10px; background: #f39c12; border: none; color: white; border-radius: 5px; cursor: pointer; font-weight: bold; margin: 5px 0; }
        #dash-section { display: none; }
    </style>
</head>
<body>

    <div id="auth-section">
        <div class="box">
            <h2>SkillLearn Login</h2>
            <input type="email" id="email" placeholder="Email ID">
            <input type="password" id="pass" placeholder="Password">
            <button onclick="doLogin()">SUBMIT / LOGIN</button>
            <button onclick="doSignup()" style="background: #2c3e50;">SIGN UP</button>
        </div>
    </div>

    <div id="dash-section">
        <div class="box" style="width: 80%; max-width: 600px;">
            <h1>Dashboard</h1>
            <p>Welcome, <span id="user-name"></span></p>
            <hr>
            <h3>Courses Available</h3>
            <p>1. Video Editing - â‚¹1299 <button style="width: auto;">Buy Now</button></p>
            <button onclick="firebase.auth().signOut()" style="background: red;">LOGOUT</button>
        </div>
    </div>

</body>
</html>
